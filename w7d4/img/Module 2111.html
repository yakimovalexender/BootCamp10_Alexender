<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><title>Module 2</title><link rel=stylesheet href=../../styles/styles.min.css><script async src=../../scripts/scripts.min.js></script><body class=theory-page><div class=wrapper><article><header><nav class=table-of-contents id=main-nav><ol class=page-nav id=page-nav><li><a href=#entry>Введение в циклы</a><li><a href=#while>Цикл while</a><li><a href=#for>Цикл for</a><li><a href=#for-of>Цикл for...of</a><li><a href=#break-continue>Инструкции break и continue</a></ol></nav></header><section><h2 id=entry>Введение в циклы</h2><p>При написании скриптов очень частой задачей выступает выполнение однотипного действия много раз. Например, вывести клиентов из списка один за другим. Или перебрать суммы зарплат и для каждой выполнить одинаковый код. Для многократного повторения одного участка кода – предусмотрены циклы.<p><strong>Цикл</strong> — разновидность управляющей конструкции в высокоуровневых языках программирования, предназначенная для организации многократного исполнения набора инструкций.<h3>Основные понятия</h3><p><strong>Тело цикла</strong> - последовательность инструкций, предназначенная для многократного исполнения.<p><strong>Итерация</strong> - единичное выполнение тела цикла.<p><strong>Условием выхода или условие окончания цикла</strong> - выражение определяющее, будет в очередной раз выполняться итерация, или цикл завершится. Так же это может называться условием продолжения цикла, в зависимости от того, как интерпретируется его истинность — как признак необходимости завершения или продолжения цикла.<p><strong>Счётчик цикла</strong> - переменная, хранящая текущий номер итерации. Цикл не обязательно содержит счётчик, счётчик не обязан быть один — условие выхода из цикла может зависеть от нескольких изменяемых в цикле переменных, а может определяться внешними условиями (например, наступлением определённого времени), в последнем случае счётчик может вообще не понадобиться.<p>Исполнение любого цикла включает:<ul><li>первоначальную инициализацию переменных цикла<li>проверку условия выхода<li>исполнение тела цикла<li>обновление переменной цикла на каждой итерации</ul><p>Кроме того, большинство языков программирования предоставляют средства для досрочного управления циклом, например, операторы завершения цикла, то есть выхода из цикла независимо от истинности условия выхода.<h3>Виды циклов</h3><p><strong>Цикл с предусловием</strong> - цикл, который выполняется пока истинно некоторое условие, указанное перед его началом. Это условие проверяется до выполнения тела цикла, поэтому тело может быть не выполнено ни разу (если условие с самого начала ложно).В JavaScript это цикл <code>while</code>.<p><strong>Цикл с постусловием</strong> - цикл, в котором условие проверяется после выполнения тела цикла. Отсюда следует, что тело всегда выполняется хотя бы один раз. В JavaScript это цикл <code>do...while</code>.<p><strong>Цикл со счётчиком</strong> - цикл, в котором некоторая переменная изменяет своё значение от заданного начального значения до конечного значения с некоторым шагом, и для каждого значения этой переменной тело цикла выполняется один раз. В большинстве процедурных языков программирования реализуется оператором <code>for</code>, в котором указывается счётчик (так называемая «переменная цикла»), требуемое количество проходов (или граничное значение счётчика) и, возможно, шаг, с которым изменяется счётчик.<p><strong>Беcконечные циклы</strong> - иногда в программах используются циклы, выход из которых не предусмотрен логикой программы. Такие циклы называются безусловными, или бесконечными. Для обеспечения бесконечного повторения проверка условия в таком цикле либо отсутствует, либо заменяется константным значением.</section><section><h2 id=while>Цикл while</h2><p>Оператор <code>while</code> создает цикл, который выполняет блок кода, пока условие проверки оценивается как <code>true</code>.<pre class=language-javascript><code>while(expression) {
  // код, тело цикла (statement)
}</code></pre><p>Оператор <code>while</code> вычисляет <code>expression</code> перед каждой итерацией цикла. Если <code>expression</code> принимает значение <code>true</code>, оператор <code>while</code> выполняет <code>statement</code>. Если <code>expression</code> оценивается как <code>false</code>, выполнение цикла прерывается и скрипт продолжает выполнять инструкции после цикла <code>while</code>.<p>Так как <code>while</code> вычисляет <code>expression</code> перед каждой итерацией, он известен как цикл предварительного тестирования (перед тем как выполнить <code>statement</code>, проверяется <code>expression</code>). Из-за этого возможно, что <code>statement</code> внутри цикла <code>while</code> никогда не выполнится.<figure><img src=../../images/module-02/while.png alt=""><figcaption>Блок-схема иллюстрирует цикл while</figcaption></figure><pre class=language-javascript><code>// Сделаем простой счетчик
let counter = 0;

while (counter &lt; 10) {
  console.log("counter: ", counter);
  // запись counter += 1 аналогична counter = counter + 1
  counter += 1;
}

// Будем заполнять места в отеле до тех пор пока
// текущее количество клиентов не будет равно максимально допустимому
let clientCounter = 18;
const maxClients = 25;

while(clientCounter &lt; maxClients) {
  console.log(clientCounter);
  clientCounter += 1;
}

// Переберем массив клиентов и выведем их имена
const clients = ["Mango", "Ajax", "Poly"];
let i = 0;

while (i &lt; clients.length) {
  console.log('Logging clients: ', clients[i]);
  i += 1;
}

// С помощью цикла можно заполнять массив данными
const numbers = [];
let num = 0;

while (num &lt; 10) {
  numbers.push(num);
  num += 1;
}

console.log("numbers: ", numbers);</code></pre><h3>do...while</h3><p>Оператор цикла <code>do...while</code> создает цикл, который выполняет блок кода до тех пор, пока <code>expression</code> не станет равным <code>false</code>.<p>В отличие от цикла <code>while</code>, цикл <code>do-while</code> всегда выполняет <code>statement</code> как минимум один раз, прежде чем он оценит <code>expression</code>. Поскольку <code>expression</code> оценивается только после того, как <code>statement</code> выполнено, цикл <code>do-while</code> называется циклом пост-теста.<pre class=language-javascript><code>do {
  // statement
} while(expression);</code></pre><div class=note><p>Внутри цикла нужно внести изменения в некоторую переменную, чтобы убедиться, что выражение равно <code>false</code> после итераций. В противном случае будет бесконечный цикл.</div><figure><img src=../../images/module-02/do-while.png alt=""><figcaption>Блок-схема иллюстрирует цикл do-while</figcaption></figure><pre class=language-javascript><code>let input = 0;

do {
  input = Number( prompt('Введите число больше 10', '') );
} while(input &lt;= 10);</code></pre></section><section><h2 id=for>Цикл for</h2><p>До ознакомления с функциональным стилем разработки чаще всего применяется цикл <code>for</code>. Оператор <code>for</code> позволяет создать цикл с тремя необязательными выражениями.<pre class=language-javascript><code>for (initialization; condition; post-expression) {
  // statements
}</code></pre><p>Алгоритм исполнения цикла <code>for</code>:<ul><li><strong>Инициализация (initialization)</strong> - выражение инициализации выполняется один раз, когда начинается цикл. Используется для инициализации переменной-счетчика. Если переменная-счетчик объявлена с использованием ключевого слова <code>var</code>, переменная счетчика не является локальной для цикла. Это означает, что вы можете ссылаться на переменную после окончания цикла. Однако, если используется ключевое слово <code>let</code>, переменная счетчика является локальной для цикла.<li><strong>Условие (condition, test)</strong> - представляет собой выражение, оцениваемое перед каждой итерацией цикла. Тело цикла выполняется только тогда, когда выражение условия принимает значение <code>true</code>. Цикл завершается, если окончание равно <code>false</code>. Обратите внимание, что условие является необязательным. Если вы его опустите, оператор <code>for</code> считает это истиной.<li><strong>Тело (выражение, statements)</strong> - выполняется в случае удовлетворения условия.<li><strong>Пост-выражение (post-expression, update)</strong> - выполняется после тела на каждой итерации цикла, но перед проверкой условия. Как правило, используется для обновления переменной-счетчика.</ul><pre class=language-javascript><code>//=============================================
// Итераторы по традиции называются буквами i/j/k
const number = 10;

for(let i = 0; i &lt; number; i += 1) {
  console.log(i);
}

//=============================================
// Вспомним про операцию a % b и выведем остаток
// от деления используя цикл
for(let i = 0, max = 10; i &lt; max; i += 1) {
  console.log(`${max} % ${i} = `, max % i);
}

//=============================================
const clients = ['Mango', 'Ajax', 'Poly'];

for(let i = 0, max = clients.length; i &lt; max; i += 1) {
  console.log(clients[i]);
}

//=============================================
const numbers = [];

for(let i = 0; i &lt; 10; i += 1) {
  numbers.push(`number-${i}`);
}

console.log(numbers);</code></pre></section><section><h2 id=for-of>Цикл for...of</h2><p>Оператор <code>for...of</code> создает цикл, перебирающий итерируемые объекты (включая Array, Map, Set, String, TypedArray, объект аргументов и т. д.). Тело цикла будет выполняться для значения каждого отдельного элемента.<pre class=language-javascript><code>for (variable of iterable) {
// statement
}</code></pre><ul><li><code>variable</code> - для каждой итерации значение свойства присваивается переменной.<li><code>iterable</code> - коллекция, который имеет перечислимые свойства и может быть повторен.</ul><pre class=language-javascript><code>// Итерация по массиву
const clients = ['Mango', 'Ajax', 'Poly'];

for(const value of clients) {
  console.log(value);
}

// Итерация по строке
const iterable = 'javascript';

for (const value of iterable) {
  console.log(value);
}</code></pre><div class=note><p>В следующих модулях мы познакомимся с типом данных - <code>Object</code>. Объект не итеруемая коллекция, нельзя использовать <code>for...of</code> для перебора ключей объекта через имя переменной.</div></section><section><h2 id=break-continue>Инструкции break и continue</h2><h3>break</h3><p>Выйти из цикла можно не только при проверке условия, но и вообще в любой момент. Эту возможность обеспечивает инструкция <code>break</code>. Она полностью прекращает выполнение цикла и передаёт управление на строку за его телом. Вообще, сочетание «бесконечный цикл + break» – отличная штука для тех ситуаций, когда условие, по которому нужно прерваться, находится не в начале-конце цикла, а посередине.<p>Давайте искать имя клиента в массиве имен, если нашли прервем цикл так как нет смысла искать дальше, имена у нас уникальные.<pre class=language-javascript><code>const clients = ["Mango", "Poly", "Ajax"];
const clientName = "Poly";
let resultMsg = "";

for (const value of clients) {
  // На каждой итерации мы будем проверять совпадает ли
  // элемент массива с именем клиента.
  // Если совпадает то мы записываем в resultMsg сообщение
  // об успехе и делаем break чтобы не искать дальше

  if (value === clientName) {
    resultMsg = "Клиент с таким именем есть в базе данных!";
    break;
  }

  // Если они не совпадают то запишем в resultMsg
  // сообщeние об отсутсвии имени
  resultMsg = "Клиента с таким именем нету в базе данных!";
}

console.log(resultMsg); // Клиент с таким именем есть в базе данных!</code></pre><p>Можно изначально задать <code>resultMsg</code> значение неудачи поиска, а в цикле перезаписать его на успех если нашли имя. Но <code>break</code> всеравно пригодится, так как если у нас массив из <code>10000</code> клиентов а нужный нам стоит на позиции <code>2</code>, то нет абсолютно никакого смысла перебирать оставшиеся <code>9998</code> элементов.<pre class=language-javascript><code>const clients = ["Mango", "Poly", "Ajax"];
const clientName = "Poly";
let resultMsg = "Клиента с таким именем нету в базе данных!";

for (const value of clients) {
  // На каждой итерации мы будем проверять совпадает ли
  // элемент массива с именем клиента.
  // Если совпадает то мы записываем в resultMsg сообщение
  // об успехе и делаем break чтобы не искать дальше

    if (value === clientName) {
      resultMsg = "Клиент с таким именем есть в базе данных!";
      break;
    }

  // Если не совпадает то ничего не делаем
}

console.log(resultMsg); // Клиент с таким именем есть в базе данных!</code></pre><h3>continue</h3><p>Директива <code>continue</code> прекращает выполнение текущей итерации цикла. Она – в некотором роде «младшая сестра» директивы <code>break</code>. Прерывает не весь цикл, а только текущее выполнение его тела, как будто оно закончилось. Её используют, если понятно, что на текущей итерации цикла делать больше нечего или вообще ничего делать не нужно и пора переходить на следующую итерацию.<pre class=language-javascript><code>// Используем цикл для вывода только нечетных чисел!
// Для чётных i срабатывает continue, выполнение тела
// прекращается и управление передаётся на следующую итерацию.

const number = 10;

for (let i = 0; i &lt; number; i += 1) {
  if (i % 2 === 0) continue;

  console.log("Нечетное i: ", i); // 1, 3, 5, 7, 9
}</code></pre></section></article><a href=#main-nav class=to-page-nav></a></div>